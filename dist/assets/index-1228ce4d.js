import{a as g,o as N,b,v as y,Q as v,c as M,d as s,j as e,M as _}from"./index-00ae5234.js";import{u as k}from"./user.api-4479a433.js";import{I as m}from"./Input-85cedd63.js";const j=_.pick(["password","password_confirm","new_password"]);function I(){var o,d,c;const{register:a,handleSubmit:p,formState:{errors:t},reset:u,setError:w}=g({defaultValues:{password:"",new_password:"",password_confirm:""},resolver:N(j)}),f=b(k.updateProfile),h=p(async x=>{var i;try{const r=await f.mutateAsync(y(x,["password_comfirm"]));v.success(r.data.message,{autoClose:1e3}),u()}catch(r){if(M(r)){const l=(i=r.response)==null?void 0:i.data.data;l&&Object.keys(l).forEach(n=>{w(n,{message:l[n],type:"Server"})})}}});return s("div",{className:"rounded-sm bg-white px-4 pb-10 shadow md:px-7 md:pb-20",children:[s("div",{className:"sm: border-b border-b-gray-200 py-6 text-center md:text-left",children:[e("h1",{className:"text-lg font-medium capitalize text-gray-900",children:"Đổi mật khẩu"}),e("div",{className:"mt-1 text-sm text-gray-700",children:"Quản lý thông tin hồ sơ để bảo mật tài khoản"})]}),e("form",{className:"mt-8 mr-auto max-w-2xl",onSubmit:h,children:s("div",{className:"mt-6 flex-grow md:mt-0 md:pr-12",children:[s("div",{className:" mt-2 flex flex-col flex-wrap sm:flex-row",children:[e("div",{className:"w-full truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Mật khẩu cũ:"}),e("div",{className:"mt-3 w-full sm:mt-0 sm:w-[80%] sm:pl-5",children:e(m,{className:"relative",classNameInput:`w-full rounded-sm border-[1px] border-gray-300 
              px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm`,placeholder:"Mật khẩu cũ",name:"password",register:a,type:"password",errorMessage:(o=t.password)==null?void 0:o.message})})]}),s("div",{className:" mt-2 flex flex-col flex-wrap sm:flex-row",children:[e("div",{className:"w-full truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Mật khẩu mới:"}),e("div",{className:"mt-3 w-full sm:mt-0 sm:w-[80%] sm:pl-5",children:e(m,{className:"relative",classNameInput:`w-full rounded-sm border-[1px] border-gray-300 
              px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm`,placeholder:"Mật khẩu mới",name:"new_password",type:"password",register:a,errorMessage:(d=t.new_password)==null?void 0:d.message})})]}),s("div",{className:" mt-2 flex flex-col flex-wrap sm:flex-row",children:[e("div",{className:"w-full truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Nhập lại mật khẩu:"}),e("div",{className:"mt-3 w-full sm:mt-0 sm:w-[80%] sm:pl-5",children:e(m,{className:"relative",classNameInput:`w-full rounded-sm border-[1px] border-gray-300 
              px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm`,placeholder:"Nhập lại mật khẩu",name:"password_confirm",type:"password",register:a,errorMessage:(c=t.password_confirm)==null?void 0:c.message})})]}),s("div",{className:" mt-2 flex flex-col flex-wrap md:flex-row ",children:[e("div",{className:"w-full truncate pt-3 capitalize sm:w-[20%] sm:text-right"}),e("div",{className:"mt-3 flex w-full md:mt-0 md:w-[80%] md:justify-center  md:pl-5",children:e("button",{className:`mt-3 flex h-12 w-full items-center justify-center rounded-sm 
                bg-orange px-5 capitalize text-white shadow-sm outline-none hover:bg-orange/90 md:w-[150px] `,type:"submit",children:"Lưu"})})]})]})})]})}export{I as default};
