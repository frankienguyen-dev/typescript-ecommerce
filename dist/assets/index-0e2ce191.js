import{r as b,A as y,u as E,a as A,o as j,b as k,v as C,c as S,j as e,d as g,L,p as M,s as _,e as B}from"./index-218255ac.js";import{I as i}from"./Input-0ce94ac9.js";import{B as I}from"./Button-5d55b0d0.js";const P=_.pick(["password","email","password_confirm"]);function q(){var c,l,m;const{isAuthenticated:F,setIsAuthenticated:u,profile:O,setProfile:h}=b.useContext(y),f=E(),{handleSubmit:x,register:a,setError:N,formState:{errors:r}}=A({resolver:j(P)}),t=k({mutationFn:o=>B.registerAccount(o)}),w=x(o=>{const v=C.omit(o,["password_confirm"]);t.mutate(v,{onSuccess:s=>{u(!0),h(s.data.data.user),f("/")},onError:s=>{var d;if(S(s)){const n=(d=s.response)==null?void 0:d.data.data;n&&Object.keys(n).forEach(p=>{N(p,{message:n[p],type:"Server"})})}}})});return e("div",{className:"bg-orange",children:e("div",{className:"container ",children:e("div",{className:"grid grid-cols-1 py-12 lg:grid-cols-5 lg:py-20 lg:pr-10",children:e("div",{className:"lg:col-span-2 lg:col-start-4",children:g("form",{className:"rounded bg-white p-[30px] shadow-sm",onSubmit:w,noValidate:!0,children:[e("div",{className:"text-[1.25rem]",children:"Đăng ký"}),e(i,{className:"mt-8",type:"email",placeholder:"Email",name:"email",register:a,errorMessage:(c=r.email)==null?void 0:c.message,autoComplete:"on"}),e(i,{className:"mt-2",type:"password",placeholder:"Password",name:"password",register:a,errorMessage:(l=r.password)==null?void 0:l.message,autoComplete:"on"}),e(i,{className:"mt-2",type:"password",placeholder:"Confirm Password",name:"password_confirm",register:a,errorMessage:(m=r.password_confirm)==null?void 0:m.message,autoComplete:"on"}),e("div",{className:"mt-2",children:e(I,{isLoading:t.isLoading,disabled:t.isLoading,className:"flex w-full items-center justify-center rounded-sm bg-orange py-4 px-2 text-center text-white",children:"Đăng ký"})}),e("div",{className:"mt-8 text-center",children:g("div",{className:"flex items-center justify-center",children:[e("span",{className:" text-black/[0.26]",children:"Bạn đã có tài khoản?"}),e(L,{to:M.login,children:e("span",{className:"pl-1 text-orange hover:cursor-pointer",children:"Đăng nhập"})})]})})]})})})})})}export{q as default};
